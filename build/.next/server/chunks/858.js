exports.id=858,exports.ids=[858],exports.modules={1825:()=>{},7358:(e,t,a)=>{Promise.resolve().then(a.bind(a,3180)),Promise.resolve().then(a.bind(a,8781)),Promise.resolve().then(a.t.bind(a,4064,23))},5913:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},3180:(e,t,a)=>{"use strict";a.d(t,{I:()=>u,TransactionProvider:()=>p});var s=a(326),n=a(7577),r=a(796),o=a(8781);a(153);var i=a(9360);let c=(0,n.createContext)(),d={isLoading:!1,transactions:[],error:{},balance:0,order:{orderId:"",paymentId:"",signature:""},paginationData:{currentPage:1,totalPages:1,totalTransactions:0}};function l(e,t){switch(t.type){case"isLoading":return{...e,isLoading:!0};case"getTransactions":return{...e,transactions:t.payload,isLoading:!1};case"getBalance":return{...e,balance:t.payload,isLoading:!1};case"rejected":return{...e,error:t.payload,isLoading:!1};case"setOrder":return{...e,order:t.payload,isLoading:!1};case"setPaginationData":return{...e,paginationData:t.payload,isLoading:!1};default:return"unknown action type"}}function p({children:e}){let[{transactions:t,isLoading:a,balance:p,error:u,paginationData:y},g]=(0,n.useReducer)(l,d),{isLoggedIn:m,setPremium:h}=(0,o.a)(),x=(0,n.useCallback)(async(e=1)=>{try{g({type:"isLoading"});let t=await r.Z.get("/api/v1/accounts/myAccount",{params:{page:e}});console.log(t),g({type:"getTransactions",payload:t.data.data.myTransaction}),g({type:"getBalance",payload:t.data.balance}),g({type:"setPaginationData",payload:{currentPage:e,totalPages:t.data.totalPages,totalTransactions:t.data.myTransaction}})}catch(e){g({type:"rejected",payload:e.data})}});async function f(e){try{g({type:"isLoading"});let a=await r.Z.post("api/v1/accounts/addExpense",e);if("success"===a.data.status){let e=a.data.data.newExpense;console.log(e);let s=[...t,e],n="debit"===e.transactionType?p-parseInt(e.amount):p+parseInt(e.amount);g({type:"getTransactions",payload:s}),console.log(p),g({type:"getBalance",payload:n})}}catch(e){g({type:"rejected",payload:e.response.data})}}async function L(e){try{g({type:"isLoading"});let a=await r.Z.delete(`/api/v1/accounts/editExpense/${e}`);if("success"===a.data.status){let a=t.find(t=>t.id===e),s=p+Number(a.amount),n=t.filter(t=>t.id!==e);g({type:"getTransactions",payload:n}),g({type:"getBalance",payload:s})}}catch(e){g({type:"rejected",payload:e.response.data})}}async function v(e,a){try{g({type:"isLoading"});let s=await r.Z.patch(`/api/v1/accounts/editExpense/${e}`,a);if(console.log(s),"success"===s.data.status){let a=t.map(t=>t.id===e?s.data.data.updatedTransaction:t);g({type:"getTransactions",payload:a})}}catch(e){g({type:"rejected",payload:e.response.data})}}async function w(e){try{g({type:"isLoading"});let t=await r.Z.get(`/api/v1/accounts/transactions/${e}`);"success"===t.data.status&&g({type:"getTransactions",payload:t.data.data})}catch(e){g({type:"rejected",payload:u.response.data})}}let P=e=>{if(!window.Razorpay){console.error("Razorpay script is not loaded");return}let t={key:"rzp_test_eMwKYTzL8DP6sN",amount:100,currency:e.currency,name:"premium member",description:"Test Transaction",image:{main:i.default},order_id:e.id,handler:async e=>{try{let{data:t}=await r.Z.post("/api/v1/accounts/verify",e);console.log(t),"success"===t.status?await h(t):(console.error("Payment verification failed:",t.errormessage),alert(t.errormessage))}catch(e){console.log(e)}},theme:{color:"#3399cc"}};new window.Razorpay(t).open()};async function k(){try{let{data:e}=await r.Z.post("/api/v1/accounts/checkout",{amount:100}),t=P(e.data);console.log(t)}catch(e){}console.log(u)}async function b(e){try{g({type:"isLoading"});let t=await r.Z.post("/api/v1/accounts/generatePDF",{transactions:e},{responseType:"json"});if("success"===t.data.status){let e=t.data.data,a=atob(e),s=Array(a.length);for(let e=0;e<a.length;e++)s[e]=a.charCodeAt(e);let n=new Uint8Array(s),r=new Blob([n],{type:"application/pdf"}),o=URL.createObjectURL(r);window.open(o)}else console.error("Failed to generate PDF")}catch(e){g({type:"rejected",payload:e.response.data})}}return s.jsx(c.Provider,{value:{isLoading:a,transactions:t,deleteExpense:L,balance:p,error:u,addExpense:f,editExpense:v,getTransactionsByCategories:w,razorCheckout:k,generatePDF:b,paginationData:y,fetchTransactions:x},children:e})}let u=()=>{let e=(0,n.useContext)(c);if(void 0===e)throw Error("Unable to find context");return e}},8781:(e,t,a)=>{"use strict";a.d(t,{UsersProvider:()=>l,a:()=>p});var s=a(326),n=a(7577),r=a(796),o=a(4490);let i=(0,n.createContext)(),c={user:{},isLoading:!1,error:{},isAuthenticated:!1,token:"",isAdmin:!1,isLoggedIn:!1,transaction:[],category:[],balance:0,premium:!1};function d(e,t){switch(t.type){case"isLoading":return{...e,isLoading:!0};case"isLoggedIn":return{...e,isLoggedIn:!0,isLoading:!1};case"isAdmin":return{...e,isAdmin:!0};case"isLoggedOut":return{...e,isLoggedIn:!1,isAuthenticated:!1,isAdmin:!1,user:{},transaction:[],token:"",isLoading:!1};case"getUserData":return{user:t.payload,isAuthenticated:!0,isLoggedIn:!0,isLoading:!1};case"rejected":return{...e,isLoading:!1,error:t.payload};case"getToken":return{...e,token:t.payload,isLoading:!1};case"getTransaction":return{...e,transaction:t.payload,isLoading:!1};case"storeUserData":return{...e,user:t.payload,isAuthenticated:!0,isLoggedIn:!0,isLoading:!1};case"getCategory":return{...e,category:t.payload,isLoading:!1};case"getBalance":return{...e,balance:t.payload,isLoading:!1};case"isAuthenticated":return{...e,isAuthenticated:!0,isLoggedIn:!0,isLoading:!1};case"isPremium":return{...e,premium:!0,isLoading:!1};default:return"unknown action type"}}function l({children:e}){let[{user:t,isLoading:a,isLoggedIn:l,error:p,token:u,transaction:y,isAuthenticated:g,category:m,getBalance:h,balance:x,isPremium:f},L]=(0,n.useReducer)(d,c);async function v(e){L({type:"isLoading"});try{let t=await o.Z.post("http://localhost:3000/api/v1/users/signup",e);L({type:"getUserData",payload:t.data.data.user}),L({type:"getToken",payload:t.data.token}),L({type:"storeUserData",payload:t.data.data.user}),localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.data.user))}catch(e){L({type:"rejected",payload:e.response.data})}}async function w(e){L({type:"isLoading"});try{let t=await o.Z.post("http://localhost:3000/api/v1/users/login",e);L({type:"getUserData",payload:t.data.data.user}),L({type:"getToken",payload:t.data.token}),L({type:"storeUserData",payload:t.data.data.user}),localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.data.user))}catch(e){L({type:"rejected",payload:e.response.data})}}async function P(){try{L({type:"isLoading"}),delete r.Z.defaults.headers.common.Authorization,await r.Z.get("/api/v1/users/logout"),L({type:"isLoading",payload:!1}),L({type:"isLoggedOut"}),localStorage.removeItem("token"),localStorage.removeItem("user")}catch(e){L({type:"rejected",payload:e})}}async function k(e){try{L({type:"isLoading"}),"success"===e.status&&L({type:"isPremium"})}catch(e){L({type:"rejected",payload:p.response.data})}}async function b(e){try{L({type:"isLoading"});let t=await o.Z.post("http://localhost:3000/api/v1/users/forgotPassword",e);console.log(t),"success"===t.data.status?alert(`Email has been sent to your email: ${t.data.data.user.email}`):alert(`Failed to send reset email: ${t.data.message}`)}catch(e){L({type:"rejected",payload:e})}}return s.jsx(i.Provider,{value:{signup:v,login:w,isLoading:a,token:u,error:p,user:t,isLoggedIn:l,transaction:y,logout:P,category:m,balance:x,setPremium:k,forgotPassword:b},children:e})}let p=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("Unable to find context");return e}},796:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});let s=a(4490).Z.create({baseURL:"http://localhost:3000"});s.interceptors.request.use(e=>{let t=localStorage.getItem("token"),a=JSON.parse(localStorage.getItem("user"));return t&&a?e.headers.Authorization=`Bearer ${t}`:delete e.headers.Authorization,e},e=>Promise.reject(e));let n=s},4088:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x,metadata:()=>h});var s=a(9510),n=a(2002),r=a.n(n),o=a(8570);let i=(0,o.createProxy)(String.raw`C:\sanket\expense-tracker\client\contexts\UsersContext.jsx`),{__esModule:c,$$typeof:d}=i;i.default;let l=(0,o.createProxy)(String.raw`C:\sanket\expense-tracker\client\contexts\UsersContext.jsx#UsersProvider`);(0,o.createProxy)(String.raw`C:\sanket\expense-tracker\client\contexts\UsersContext.jsx#useAuth`);let p=(0,o.createProxy)(String.raw`C:\sanket\expense-tracker\client\contexts\TransactionsContext.jsx`),{__esModule:u,$$typeof:y}=p;p.default;let g=(0,o.createProxy)(String.raw`C:\sanket\expense-tracker\client\contexts\TransactionsContext.jsx#TransactionProvider`);(0,o.createProxy)(String.raw`C:\sanket\expense-tracker\client\contexts\TransactionsContext.jsx#useTrans`),a(7272);var m=a(9720);let h={title:"Expense-tracker",description:"Best way to manage your expense",favicon:"../public/assets/favicon-32x32.png"};function x({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:r().className,children:[s.jsx(m.default,{src:"https://checkout.razorpay.com/v1/checkout.js",strategy:"beforeInteractive"}),s.jsx(l,{children:s.jsx(g,{children:e})})]})})}},9360:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s={src:"/_next/static/media/main_manage.67acc567.svg",height:6e3,width:6e3,blurWidth:0,blurHeight:0}},7272:()=>{}};